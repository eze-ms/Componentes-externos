{"ast":null,"code":"const apiUrl = 'http://localhost:8080/peliculas/api.php';\nasync function sendRequest(action, data = {}) {\n  const requestData = {\n    action,\n    ...data\n  };\n  try {\n    const response = await fetch(apiUrl, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(requestData)\n    });\n    if (!response.ok) {\n      throw new Error(`Error en la solicitud: ${response.statusText}`);\n    }\n    const responseData = await response.json();\n    return responseData;\n  } catch (error) {\n    console.error('Error:', error);\n    return {\n      err: error.message\n    };\n  }\n}\nexport async function listMovies() {\n  //funcion list\n  return sendRequest('list');\n}\nexport async function readMovie(id) {\n  //funcion red\n  return sendRequest('read', {\n    id\n  });\n}\nexport async function writeMovie(movieData) {\n  //funcion write\n  return sendRequest('write', {\n    movie: movieData\n  });\n}\nexport async function createMovie(movieData) {\n  //funcion create/update\n  return sendRequest('create', {\n    movie: {\n      title: movieData.titulo,\n      year: movieData.anyoEstreno,\n      director: movieData.director,\n      synopsis: movieData.mensaje\n    }\n  });\n}\nexport async function deleteMovie(id) {\n  return sendRequest('delete', {\n    id\n  });\n}","map":{"version":3,"names":["apiUrl","sendRequest","action","data","requestData","response","fetch","method","headers","body","JSON","stringify","ok","Error","statusText","responseData","json","error","console","err","message","listMovies","readMovie","id","writeMovie","movieData","movie","createMovie","title","titulo","year","anyoEstreno","director","synopsis","mensaje","deleteMovie"],"sources":["/Users/ezequielmacchi1/MAUI-1/src/api.js"],"sourcesContent":["const apiUrl = 'http://localhost:8080/peliculas/api.php';\r\n\r\nasync function sendRequest(action, data = {}) {\r\n  const requestData = { action, ...data };\r\n\r\n  try {\r\n    const response = await fetch(apiUrl, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(requestData),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Error en la solicitud: ${response.statusText}`);\r\n    }\r\n\r\n    const responseData = await response.json();\r\n    return responseData;\r\n  } catch (error) {\r\n    console.error('Error:', error);\r\n    return { err: error.message };\r\n  }\r\n}\r\n\r\nexport async function listMovies() { //funcion list\r\n  return sendRequest('list');\r\n}\r\n\r\nexport async function readMovie(id) { //funcion red\r\n  return sendRequest('read', { id });\r\n}\r\n\r\nexport async function writeMovie(movieData) { //funcion write\r\n  return sendRequest('write', { movie: movieData });\r\n}\r\n\r\nexport async function createMovie(movieData) { //funcion create/update\r\n  return sendRequest('create', { movie: {\r\n      title: movieData.titulo,\r\n      year: movieData.anyoEstreno,\r\n      director: movieData.director,\r\n      synopsis: movieData.mensaje\r\n    } });\r\n}\r\n\r\nexport async function deleteMovie(id) {\r\n  return sendRequest('delete', { id });\r\n}\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAG,yCAAyC;AAExD,eAAeC,WAAWA,CAACC,MAAM,EAAEC,IAAI,GAAG,CAAC,CAAC,EAAE;EAC5C,MAAMC,WAAW,GAAG;IAAEF,MAAM;IAAE,GAAGC;EAAK,CAAC;EAEvC,IAAI;IACF,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAACN,MAAM,EAAE;MACnCO,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,WAAW;IAClC,CAAC,CAAC;IAEF,IAAI,CAACC,QAAQ,CAACO,EAAE,EAAE;MAChB,MAAM,IAAIC,KAAK,CAAE,0BAAyBR,QAAQ,CAACS,UAAW,EAAC,CAAC;IAClE;IAEA,MAAMC,YAAY,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;IAC1C,OAAOD,YAAY;EACrB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAC9B,OAAO;MAAEE,GAAG,EAAEF,KAAK,CAACG;IAAQ,CAAC;EAC/B;AACF;AAEA,OAAO,eAAeC,UAAUA,CAAA,EAAG;EAAE;EACnC,OAAOpB,WAAW,CAAC,MAAM,CAAC;AAC5B;AAEA,OAAO,eAAeqB,SAASA,CAACC,EAAE,EAAE;EAAE;EACpC,OAAOtB,WAAW,CAAC,MAAM,EAAE;IAAEsB;EAAG,CAAC,CAAC;AACpC;AAEA,OAAO,eAAeC,UAAUA,CAACC,SAAS,EAAE;EAAE;EAC5C,OAAOxB,WAAW,CAAC,OAAO,EAAE;IAAEyB,KAAK,EAAED;EAAU,CAAC,CAAC;AACnD;AAEA,OAAO,eAAeE,WAAWA,CAACF,SAAS,EAAE;EAAE;EAC7C,OAAOxB,WAAW,CAAC,QAAQ,EAAE;IAAEyB,KAAK,EAAE;MAClCE,KAAK,EAAEH,SAAS,CAACI,MAAM;MACvBC,IAAI,EAAEL,SAAS,CAACM,WAAW;MAC3BC,QAAQ,EAAEP,SAAS,CAACO,QAAQ;MAC5BC,QAAQ,EAAER,SAAS,CAACS;IACtB;EAAE,CAAC,CAAC;AACR;AAEA,OAAO,eAAeC,WAAWA,CAACZ,EAAE,EAAE;EACpC,OAAOtB,WAAW,CAAC,QAAQ,EAAE;IAAEsB;EAAG,CAAC,CAAC;AACtC"},"metadata":{},"sourceType":"module","externalDependencies":[]}